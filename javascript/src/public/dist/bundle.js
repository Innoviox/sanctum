!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";n.r(t),n.d(t,"generate",function(){return S}),n.d(t,"clear",function(){return b}),n.d(t,"write_number",function(){return E}),n.d(t,"set_mode",function(){return M}),n.d(t,"get_mode",function(){return z}),n.d(t,"write_text",function(){return U}),n.d(t,"draw_intro",function(){return j}),n.d(t,"CANVAS_BACKGROUND",function(){return p}),n.d(t,"CANVAS_BLACK",function(){return m}),n.d(t,"RADII",function(){return s}),n.d(t,"COLORS",function(){return l}),n.d(t,"color_strs",function(){return h}),n.d(t,"c_map",function(){return u}),n.d(t,"size_strs",function(){return f}),n.d(t,"r_map",function(){return c}),n.d(t,"canvas",function(){return i}),n.d(t,"clear_below",function(){return A});const r=n(1);let i=$("#canvas")[0];i.width=640,i.height=480;let o=i.getContext("2d");const l=["#ff0000","#ffff00","#0000ff"],s=[7,12,17];let h=["red","yellow","blue"],u=_.zipObject(h,l),a=_.zipObject(l,h),f=["small","medium","big"],c=_.zipObject(f,s),d=_.zipObject(s,f);const p="#7f7f7f",m=p,g="#ffffff";o.textAlign="center";let y=0,w=new r({width:i.width,height:i.height}),x=(e,t,n=o)=>{n.beginPath(),n.arc(t[0],t[1],e,0,2*Math.PI),n.fill()},v=(e,t,n=o,r)=>{n.fillStyle=t;let l=r||(e=>{let t,n=0;do{t={x:Math.random()*(i.width-2*e)-e,y:Math.random()*(i.height-2*e)-e,width:2*e+10,height:2*e+10}}while(0!==w.colliding(t).length&&++n<500);return w.push(t),[t.x+2*e,t.y+2*e]})(e);x(e,l,n),e===s[1]&&(n.fillStyle=p,x(e-7,l,n))},b=(e=p,t=o)=>{t.fillStyle=e,t.fillRect(0,0,i.width,i.height)},A=(e,t=p,n=o)=>{n.fillStyle=t,n.fillRect(0,e,i.width,i.height)},S=(e,t,n,r=!0,i,o,h=!1)=>{b(),w.clear(),e&&(e=c[e]),t&&(t=u[t]),i&&(i=c[i]),o&&(o=u[o]);let a={total_r:e=>Object.values(a[e]).reduce((e,t)=>e+t),total_c:e=>{let t=0;for(let n of s)t+=a[n][e];return t},total_r_c:(e,t)=>a[e][t]},f=0,d=(e=9,t=0)=>Math.floor(Math.random()*e)+t,p=0;for(let i of s){a[i]={};for(let o of l){let l=d();if(0===l&&(f>=3?l=d(9,1):f++),r&&e&&t&&e===i&&t!==o)if(n)l=0,f++;else{if(0===p)l=d(2,1);else for(;p+l>3;)l=d(2,0);p+=l,0===l&&f++}else if(r&&e&&t&&e!==i&&t===o)if(n)l=0,f++;else{if(0===p)l=d(2,1);else for(;p+l>3;)l=d(2,0);p+=l,0===l&&f++}e&&e!==i||t&&t!==o||(l=d(9,3)),a[i][o]=l;for(let e=0;e<l;e++)v(i,o)}}return a},E=(e,t=i.height/2)=>{2===y&&(o.font="40px Arial",o.fillStyle=g,o.fillText(e,i.width/2,t))};function U(e,t=i,n=t.height/2,r="18px Arial",o=null){let l=t.getContext("2d");l.fillStyle=g,l.font=r;let s=1.2*l.measureText("M").width,h=e.split("UUU"),u=!1,a=o||t.width/2,f=n-s/2;h.length>1&&(l.textAlign="left",a-=l.measureText(h.join("")).width/2);for(let e of h){let t=l.measureText(e).width;l.fillText(e,a,f),u&&l.fillRect(a,f+3,t,2),a+=t,u=!u}h.length>1&&(l.textAlign="center")}let M=e=>{y=e},z=()=>y,P=$("#intro-canvas")[0];P.width=400,P.height=175;let C=P.getContext("2d");C.textAlign="center",b(p,C),U("(Press SPACE)",P),C.textAlign="left";let O=(e,t,n,r=!1,i,o)=>()=>{r&&b(p,C);let l=[100,n];for(let t of e){let[e,n]=t;v(e,n,C,l),l[0]+=5*s[2]}U(t+"",P,o,"18px Arial",i)},j=()=>{let e=[],t=[],n=60,r=80,i=40,o=0,h=s[2];for(let l of s)t.push([l,"#ffffff"]),e.push(O(t.slice(0),d[l],n,l===s[0],r,i)),r+=h*[4.2,6.2][o++];r=300,i=71;for(let o of l)t=t.map(e=>[e[0],o]),e.push(O(t.slice(0),a[o],n,!1,r,i)),n+=40,i+=40;return e}},function(e,t,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){return function(){function e(t){var n,r;if(this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.maxElements=t.maxElements,null==this.width||null==this.height)throw new Error("Missing quadtree dimensions.");if(null==this.x&&(this.x=0),null==this.y&&(this.y=0),null==this.maxElements&&(this.maxElements=1),this.contents=[],this.oversized=[],this.size=0,this.width<1||this.height<1)throw new Error("Dimensions must be positive integers.");if(!Number.isInteger(this.x)||!Number.isInteger(this.y))throw new Error("Coordinates must be integers");if(this.maxElements<1)throw new Error("The maximum number of elements before a split must be a positive integer.");for(n in r=this,this.children={NW:{create:function(){return new e({x:r.x,y:r.y,width:Math.max(Math.floor(r.width/2),1),height:Math.max(Math.floor(r.height/2),1),maxElements:r.maxElements})},tree:null},NE:{create:function(){return new e({x:r.x+Math.max(Math.floor(r.width/2),1),y:r.y,width:Math.ceil(r.width/2),height:Math.max(Math.floor(r.height/2),1),maxElements:r.maxElements})},tree:null},SW:{create:function(){return new e({x:r.x,y:r.y+Math.max(Math.floor(r.height/2),1),width:Math.max(Math.floor(r.width/2),1),height:Math.ceil(r.height/2),maxElements:r.maxElements})},tree:null},SE:{create:function(){return new e({x:r.x+Math.max(Math.floor(r.width/2),1),y:r.y+Math.max(Math.floor(r.height/2),1),width:Math.ceil(r.width/2),height:Math.ceil(r.height/2),maxElements:r.maxElements})},tree:null}},this.children)this.children[n].get=function(){return null!=this.tree?this.tree:(this.tree=this.create(),this.tree)}}var t,n,r,i,o,l,s,h;return i=function(e){var t,n;return{x:Math.floor((null!=(t=e.width)?t:1)/2)+e.x,y:Math.floor((null!=(n=e.height)?n:1)/2)+e.y}},t=function(e,t){var n,r,i,o;return!(e.x>=t.x+(null!=(n=t.width)?n:1)||e.x+(null!=(r=e.width)?r:1)<=t.x||e.y>=t.y+(null!=(i=t.height)?i:1)||e.y+(null!=(o=e.height)?o:1)<=t.y)},n=function(e,t){var n;return n=i(t),e.x<n.x?e.y<n.y?"NW":"SW":e.y<n.y?"NE":"SE"},h=function(e){if("object"!=typeof e)throw new Error("Element must be an Object.");if(null==e.x||null==e.y)throw new Error("Coordinates properties are missing.");if((null!=e?e.width:void 0)<0||(null!=e?e.height:void 0)<0)throw new Error("Width and height must be positive integers.")},l=function(e){var t,n,r,i;return n=Math.max(Math.floor(e.width/2),1),r=Math.ceil(e.width/2),i=Math.max(Math.floor(e.height/2),1),t=Math.ceil(e.height/2),{NW:{x:e.x,y:e.y,width:n,height:i},NE:{x:e.x+n,y:e.y,width:r,height:i},SW:{x:e.x,y:e.y+i,width:n,height:t},SE:{x:e.x+n,y:e.y+i,width:r,height:t}}},r=function(e,n){var r,i,o,s;for(i in s=[],o=l(n))r=o[i],t(e,r)&&s.push(i);return s},o=function(e,t){var n;return(n=function(n){return e["_"+n]=e[n],Object.defineProperty(e,n,{set:function(e){return t.remove(this,!0),this["_"+n]=e,t.push(this)},get:function(){return this["_"+n]},configurable:!0})})("x"),n("y"),n("width"),n("height")},s=function(e){var t;return(t=function(t){if(null!=e["_"+t])return delete e[t],e[t]=e["_"+t],delete e["_"+t]})("x"),t("y"),t("width"),t("height")},e.prototype.clear=function(){var e,t;for(e in this.contents=[],this.oversized=[],this.size=0,t=[],this.children)t.push(this.children[e].tree=null);return t},e.prototype.push=function(e,t){return this.pushAll([e],t)},e.prototype.pushAll=function(e,t){var n,i,l,s,u,a,f,c,d,p,m,_,g,y,w,x,v,b,A,$;for(m=0,y=e.length;m<y;m++)p=e[m],h(p),t&&o(p,this);for(f=[{tree:this,elements:e}];f.length>0;){for($=(v=f.shift()).tree,c={NW:null,NE:null,SW:null,SE:null},_=0,w=(a=v.elements).length;_<w;_++)if(u=a[_],$.size++,1!==(d=r(u,$)).length||1===$.width||1===$.height)$.oversized.push(u);else if($.size-$.oversized.length<=$.maxElements)$.contents.push(u);else{for(s=d[0],A=$.children[s],null==c[s]&&(c[s]={tree:A.get(),elements:[]}),c[s].elements.push(u),g=0,x=(b=$.contents).length;g<x;g++)i=b[g],null==c[l=r(i,$)[0]]&&(c[l]={tree:$.children[l].get(),elements:[]}),c[l].elements.push(i);$.contents=[]}for(s in c)null!=(n=c[s])&&f.push(n)}return this},e.prototype.remove=function(e,t){var r,i;return h(e),(r=this.oversized.indexOf(e))>-1?(this.oversized.splice(r,1),this.size--,t||s(e),!0):(r=this.contents.indexOf(e))>-1?(this.contents.splice(r,1),this.size--,t||s(e),!0):!(null==(i=this.children[n(e,this)]).tree||!i.tree.remove(e,t)||(this.size--,0===i.tree.size&&(i.tree=null),0))},e.prototype.colliding=function(e,n){var i,o,l,s,u,a,f,c,d,p,m,_,g,y;for(null==n&&(n=t),h(e),u=[],l=[this];l.length>0;){for(a=0,d=(_=(y=l.shift()).oversized).length;a<d;a++)(o=_[a])!==e&&n(e,o)&&u.push(o);for(f=0,p=(g=y.contents).length;f<p;f++)(o=g[f])!==e&&n(e,o)&&u.push(o);for(0===(s=r(e,y)).length&&(s=[],e.x>=y.x+y.width&&s.push("NE"),e.y>=y.y+y.height&&s.push("SW"),s.length>0&&(1===s.length?s.push("SE"):s=["SE"])),c=0,m=s.length;c<m;c++)i=s[c],null!=y.children[i].tree&&l.push(y.children[i].tree)}return u},e.prototype.onCollision=function(e,n,i){var o,l,s,u,a,f,c,d,p,m,_,g,y;for(null==i&&(i=t),h(e),s=[this];s.length>0;){for(a=0,d=(_=(y=s.shift()).oversized).length;a<d;a++)(l=_[a])!==e&&i(e,l)&&n(l);for(f=0,p=(g=y.contents).length;f<p;f++)(l=g[f])!==e&&i(e,l)&&n(l);for(0===(u=r(e,y)).length&&(u=[],e.x>=y.x+y.width&&u.push("NE"),e.y>=y.y+y.height&&u.push("SW"),u.length>0&&(1===u.length?u.push("SE"):u=["SE"])),c=0,m=u.length;c<m;c++)o=u[c],null!=y.children[o].tree&&s.push(y.children[o].tree)}return null},e.prototype.get=function(e){return this.where(e)},e.prototype.where=function(e){var t,r,i,o,l,s,u,a,f,c,d,p,m;if("object"==typeof e&&(null==e.x||null==e.y))return this.find(function(t){var n,r;for(r in n=!0,e)e[r]!==t[r]&&(n=!1);return n});for(h(e),o=[],i=[this];i.length>0;){for(l=0,a=(c=(m=i.shift()).oversized).length;l<a;l++){for(u in r=c[l],t=!0,e)e[u]!==r[u]&&(t=!1);t&&o.push(r)}for(s=0,f=(d=m.contents).length;s<f;s++){for(u in r=d[s],t=!0,e)e[u]!==r[u]&&(t=!1);t&&o.push(r)}null!=(p=m.children[n(e,m)]).tree&&i.push(p.tree)}return o},e.prototype.each=function(e){var t,n,r,i,o,l,s,h,u,a;for(n=[this];n.length>0;){for(i=0,l=(h=(a=n.shift()).oversized).length;i<l;i++)r=h[i],"function"==typeof e&&e(r);for(o=0,s=(u=a.contents).length;o<s;o++)r=u[o],"function"==typeof e&&e(r);for(t in a.children)null!=a.children[t].tree&&n.push(a.children[t].tree)}return this},e.prototype.find=function(e){var t,n,r,i,o,l,s,h,u,a,f;for(n=[this],i=[];n.length>0;){for(o=0,s=(u=(f=n.shift()).oversized).length;o<s;o++)r=u[o],("function"==typeof e?e(r):void 0)&&i.push(r);for(l=0,h=(a=f.contents).length;l<h;l++)r=a[l],("function"==typeof e?e(r):void 0)&&i.push(r);for(t in f.children)null!=f.children[t].tree&&n.push(f.children[t].tree)}return i},e.prototype.filter=function(t){var n;return(n=function(r){var i,o,l,s,h,u,a,f,c,d,p;for(i in(o=new e({x:r.x,y:r.y,width:r.width,height:r.height,maxElements:r.maxElements})).size=0,r.children)null!=r.children[i].tree&&(o.children[i].tree=n(r.children[i].tree),o.size+=null!=(f=null!=(c=o.children[i].tree)?c.size:void 0)?f:0);for(s=0,u=(d=r.oversized).length;s<u;s++)l=d[s],(null==t||("function"==typeof t?t(l):void 0))&&o.oversized.push(l);for(h=0,a=(p=r.contents).length;h<a;h++)l=p[h],(null==t||("function"==typeof t?t(l):void 0))&&o.contents.push(l);return o.size+=o.oversized.length+o.contents.length,0===o.size?null:o})(this)},e.prototype.reject=function(e){return this.filter(function(t){return!("function"==typeof e?e(t):void 0)})},e.prototype.visit=function(e){var t,n,r;for(n=[this];n.length>0;)for(t in r=n.shift(),e.bind(r)(),r.children)null!=r.children[t].tree&&n.push(r.children[t].tree);return this},e.prototype.pretty=function(){var e,t,n,r,i,o,l;for(o="",n=function(e){var t,n,r;for(r="",t=n=e;n<=0?t<0:t>0;n<=0?++t:--t)r+="   ";return r},t=[{label:"ROOT",tree:this,level:0}];t.length>0;){for(e in o+=(r=n((l=t.shift()).level))+"| "+l.label+"\n"+r+"| ------------\n",l.tree.oversized.length>0&&(o+=r+"| * Oversized elements *\n"+r+"|   "+l.tree.oversized+"\n"),l.tree.contents.length>0&&(o+=r+"| * Leaf content *\n"+r+"|   "+l.tree.contents+"\n"),i=!1,l.tree.children)null!=l.tree.children[e].tree&&(i=!0,t.unshift({label:e,tree:l.tree.children[e].tree,level:l.level+1}));i&&(o+=r+"└──┐\n")}return o},e}()})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";n.r(t);var r=n(0);let i=n(0),o=$("#question"),l=$("#canvas");let s=1e3,h=0,u=Date.now,a=!0,f=!1,c=0,d={test_answers:"",real_answers_tf:"",real_answers_num:"",attention_ans:""},p={test_correct:"",real_correct_tf:"",real_correct_num:"",attention_corr:""},m={test_types:"",real_types:""},g={test_times:"",real_tf_times:"",real_num_times:"",attention_times:""},y={test_qs:"",real_qs_tf:"",real_qs_num:"",test_pics:"",real_pics:""},w=()=>{},x=()=>{},v=()=>{let e=u();a?"att"===a?(d.attention_ans+=q+"-",g.attention_times+=e-h+"-"):(d.test_answers+=q+"-",g.test_times+=e-h+"-"):(g.real_num_times+=e-h+"-",d.real_answers_num+=q+"-"),q=""},b=()=>$("#test-area").addClass("smooth");let A=(e,t,n)=>r=>{n&&$("#give-up-button").show(),i.clear(i.CANVAS_BLACK),i.set_mode(e),i.write_text(r,i.canvas,150,"30px Arial"),i.write_text(t),l.focus(),h=u()},S=A(1,"Press T for true, F for false.",!1),E=A(2,"Type the correct number and press ENTER.",!1),U=()=>{i.clear_below(250,i.CANVAS_BLACK),i.write_number(q,300)},M=(e,t,n)=>""===t?e.total_c(r.c_map[n]):""===n?e.total_r(r.r_map[t]):e.total_r_c(r.r_map[t],r.c_map[n]),z=(e,t,n,r=!1)=>{let i=e.format(t,n);return""===t&&(i=e.format(n)),r?i.replace("are","were").replace("is","was"):i},P=e=>Object.entries(e).map(e=>Object.entries(e[1]).map(e=>e[1])).map(e=>e.map(e=>""+e).join("")).join(",")+"-",C=(e,t="",n="",r=0,l=E,h=!1,u=!1,c,d=[t,n])=>_=>{$("#give-up-button").hide(),f=u,a?m.test_types+=c+"-":m.real_types+=c+"-",b(),y.test_qs+=t+","+n+"-",$("#test-area-inner").show(),i.set_mode(0),i.clear(i.CANVAS_BLACK),i.write_text(z(e,t,n),i.canvas,150,"30px Arial"),i.write_text("Press SPACE to see the picture."),x=()=>{_.unshift(((e,t="",n="",r=0,l=E,h=!1,u)=>()=>{if(i.set_mode(-1),o.text(""),r)i.generate(),p.attention_corr+=r+"-",a="att";else{let e=i.generate(t||u[0],n||u[1],h,!0,...u,!0);y.test_pics+=P(e),p.test_correct+=M(e,t,n)+"-",a=!0}setTimeout(()=>l(z(e,t,n,!0)),s)})(e,t,n,r,l,h,d)),j(_)}},O=(e,t,n,r,l,c,_,v=!1,A)=>U=>{$("#give-up-button").hide(),f=v,m.real_types+=A+"-",y.real_qs_tf+=t+","+n+"-",y.real_qs_num+=l+","+c+"-",b(),$("#test-area-inner").show(),a=!1,i.set_mode(0),i.clear(i.CANVAS_BLACK),i.write_text(z(e,t,n),i.canvas,150,"30px Arial"),i.write_text("Press SPACE to see the picture."),x=()=>{U.unshift(((e,t,n,r,l,a,f)=>()=>{i.set_mode(-1);let c=i.generate(t,n,f,!0,l,a,!1);y.real_pics+=P(c)+"-",p.real_correct_tf+=f+"-",setTimeout(()=>S(z(e,t,n,!0)),s),w=e=>{let t=u();d.real_answers_tf+=e+"-",g.real_tf_times+=t-h+"-",p.real_correct_num+=M(c,l,a)+"-",o.text(z(r,l,a,!0)),E(z(r,l,a,!0),!1)}})(e,t,n,r,l,c,_)),j(U)}},j=e=>{let t=e.shift();x=()=>{j(e)},t(e),T()},q="",T=()=>{$(document).off(),$(document).keydown(e=>{if(32===e.which)return!1}),$(document).keyup(e=>{let t=e.which;32===t&&0===i.get_mode()?x():1===i.get_mode()?70===t?w(!1):84===t&&w(!0):2===i.get_mode()&&(13===t?""!==q&&(v(),i.set_mode(0),i.clear(i.CANVAS_BLACK),$("#give-up-button").hide(),i.write_text("Press SPACE to advance to the next trial."),f&&x()):48<=t&&t<=57?(q+=t-48,U()):8===t&&(q=q.slice(0,-1),U()))})},k=e=>{q="G",v(),i.set_mode(0),i.clear(i.CANVAS_BLACK),$("#give-up-button").hide(),i.write_text("Press SPACE to advance to the next trial."),f&&x()},N=["Every UUU{0}UUU circle is UUU{1}UUU"],W=["How many UUU{0}UUU UUU{1}UUU circles are there?","How many UUU{0}UUU circles are there?","How many UUU{0}UUU circles are there?"],L=["Answer UUU{0}UUU for the question"];String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return void 0!==e[n]?e[n]:t})};let B=(e,t=_.sample(r.color_strs),n=_.sample(r.size_strs))=>{return[W[e],e<2?n:"",e%2==0?t:""]},K=_.product(r.size_strs,r.color_strs),V=e=>[N[0],...K[e]],R=()=>{let e=Math.floor(100*Math.random());return C(_.sample(L),e+"","",e,E,!1,!1,"ATT")},D=e=>{let t=_.range(e.length),n=Array(e.length).fill(0),r=_.sample(t),i=[],o=e.reduce((e,t)=>e+t);for(let l=0;l<o;l++){i.push(r),n[r]+=1,n[r]===e[r]&&t.splice(t.indexOf(r),1);let o=_.sample(t.filter(e=>e!==r));void 0===o&&(o=r),r=o}return i},I=(e,t,n)=>{for(let r of t)for(let t of e[r[0]]){let e=null;for(let i of n)if(i[r[0]]===t)if(e){if(i[r[1]]===e)return!1}else e=i[r[1]]}return!0},H=(e,t)=>{let n,r=!1,i=0;for(;!r&&++i<1e3;)n=_.zip(...e.map(_.shuffle)),r=I(e,t,n);return i>1e3&&(n=_.shuffle([[0,1,!0],[0,0,!1],[1,5,!1],[1,3,!0],[2,1,!0],[2,2,!1],[3,0,!0],[3,3,!1],[4,0,!1],[4,2,!0],[5,4,!0],[5,2,!1],[6,4,!1],[6,1,!0],[7,1,!1],[7,5,!0],[8,2,!1],[8,0,!0]])),n},F=(e,t,n)=>{let r=0,i=void 0;for(let o of e)if(o[t]===i){if(++r>n)return F(_.shuffle(e),t,n)}else r=1,i=o[t];return e},G=(e,t)=>Math.floor(Math.random()*t)+e,J=(e,t,n=1)=>{if(!t)return e;let r=e.length-5;for(let t=0;t<n;t++)e.splice(G(5,r),0,R());return e},Q=(e=4,t=4,n=4,i=!0)=>J(_.sampleSize(H([D(1===e?_.shuffle([1,1,1,0,0,0,0,0,0]):_.flatten(_.shuffle([[1,1,2],[2,1,1],[1,2,1]]))),D(1===e?[1,1,1,0,0,0]:[4,4,4,0,0,0]),1===e?[!0,!0,!0]:Array(6).fill(!0).concat(Array(6).fill(!1))],[[0,1],[0,2]]).map((e,t)=>{let[n,i,o]=V(e[0]),l=e[1]<3?B(e[1],o,i):B(e[1]-3,_.sample(r.color_strs.filter(e=>e!==o)),_.sample(r.size_strs.filter(e=>e!==i))),s=e[1]%3,h=(e[1]<3?"T":"D")+"OSC".charAt(s);return C(...l,0,E,e[2],t+1===18,h+"t",[i,o])}),e+t+n),i,0),X=()=>J(F(H([D(Array(9).fill(2)),D([4,4,4,2,2,2]),Array(9).fill(!0).concat(Array(9).fill(!1))],[[0,1],[0,2]]),2,3).map((e,t)=>{let[n,i,o]=V(e[0]),l=e[1]<3?B(e[1],o,i):B(e[1]-3,_.sample(r.color_strs.filter(e=>e!==o)),_.sample(r.size_strs.filter(e=>e!==i))),s=e[1]%3,h=(e[1]<3?"T":"D")+"OSC".charAt(s);return O(n,i,o,...l,e[2],t+1===18,h)}),!0,0),Y=e=>Array(e+1).join((Math.random().toString(36)+(e=>Array(e+1).join((Math.random().toString(36)+"00000000000000000").slice(2,18)).slice(0,e))(18)).slice(2,18)).slice(0,e),Z=(e,t=(e=>{}),n=j)=>()=>r=>{(()=>$("#test-area").removeClass("smooth"))(),$(".info").hide(),$(e).show(),i.clear(i.CANVAS_BLACK),$("#test-area-inner").hide(),x=()=>{$(".info").hide(),n(r)},t(r),T()},ee=Z("#intro",()=>{s=1500,$("#intro-2").hide()},e=>{$(".info").hide(),$("#intro").show(),$("#intro-2").hide(),o.hide(),j(e)}),te=Z("#intro",()=>{$(".info").hide(),$("#intro").show(),$("#intro-2").show(),$("#intro-space").text("Press SPACE to see an example trial.")},e=>{$("#test-area-inner").show(),j(e)}),ne=(Z("#intro-timed",()=>{s=1e3}),Z("#start_baseline",()=>{s=1e3})),re=Z("#start_pairs",e=>{s=1e3,x=()=>{$("#continue-timed").html("<b>Are you sure you read the instructions?</b>")},setTimeout(()=>{$("#continue-timed").text("Press SPACE to continue."),x=()=>{$(".info").hide(),j(e)}},1e4)}),ie=Z("#reload-warn"),oe=(Z("#intro-tf"),Z("#baseline"),Z("#thanks",()=>{document.body.style.cursor="default",x=()=>{},$("#test-area-inner").hide();let e=(()=>Y(12)+"-"+Y(6)+"-"+Y(12))();$("#code").text(e),$.ajax({type:"POST",url:"/edit?user_id="+c,data:{mturk_token:e},success:function(e){console.log(e)},error:function(e,t,n){console.log(n)}})})),le=()=>e=>$.ajax({type:"POST",url:"/edit?user_id="+c,data:{...d,...p,...g,...y,...m},success:function(t){console.log(t),e&&j(e)},error:function(t,n,r){console.log(r),e&&j(e)}}),se=e=>parseInt(((e,t,n)=>{let r=e.length;return e.length=n,_.fill(e,0,r)})(e,0,5).map(e=>e?1:0).join("")),he=0;$("document").ready(()=>{$("#consent").show(),$("#test-area").hide(),$("#eng-test").hide(),$(document).keydown(e=>{if(32===e.which)return!1}),$(document).keyup(e=>{32===e.which&&(e.preventDefault(),$("#consent").hide(),$("#eng-test").show(),$(".ui.radio.checkbox").checkbox(),$(".ui.checkbox").checkbox(),$("select.dropdown").dropdown(),window.scrollTo(0,0),$(document).off())}),$("#eng-form").form({fields:{eng_q1:{identifier:"eng_q1",rules:[{type:"checked",prompt:"Please answer english question 1"}]},eng_q2:{identifier:"eng_q2",rules:[{type:"checked",prompt:"Please answer english question 2"}]},gender:{identifier:"gend",rules:[{type:"empty",prompt:"Please choose your gender"}]},state:{identifier:"state",rules:[{type:"empty",prompt:"Please choose the state you grew up in"}]},age:{identifier:"age",rules:[{type:"empty",prompt:"Please enter your age"},{type:"integer[18...120]",prompt:"Please enter a valid age (18 - 120)"}]},sen_1:{identifier:"sen_1[]",rules:[{type:"checked",prompt:"Please answer sentence question 1"}]},sen_2:{identifier:"sen_2[]",rules:[{type:"checked",prompt:"Please answer sentence question 2"}]},sen_3:{identifier:"sen_3[]",rules:[{type:"checked",prompt:"Please answer sentence question 3"}]},sen_4:{identifier:"sen_4[]",rules:[{type:"checked",prompt:"Please answer sentence question 4"}]},sen_5:{identifier:"sen_5[]",rules:[{type:"checked",prompt:"Please answer sentence question 5"}]},sen_6:{identifier:"sen_6[]",rules:[{type:"checked",prompt:"Please answer sentence question 6"}]},sen_7:{identifier:"sen_7[]",rules:[{type:"checked",prompt:"Please answer sentence question 7"}]},sen_8:{identifier:"sen_8[]",rules:[{type:"checked",prompt:"Please answer sentence question 8"}]},sen_9:{identifier:"sen_9",rules:[{type:"checked",prompt:"Please answer sentence question 9"}]}},onFailure:function(){return!1},onSuccess:function(e){let t=$("#eng-form").form("get values");for(let e=1;e<9;e++)t["sen_"+e]=se(t["sen_"+e]);return $.ajax({type:"POST",url:"/add",data:t,success:function(e){(e=>c=e)(he=e),console.log(e)},error:function(e,t,n){console.log(n)}}),$("#eng-test").hide(),$("#test-area").show(),window.scrollTo(0,0),T(),j([ie(),ee(),...Object(r.draw_intro)(),te(),...Q(1,1,1,!1),ne(),...Q(),re(),...X(),le(),oe()]),!1}}),$("#give-up-button").click(k)}),window.onbeforeunload=()=>"A"}]);